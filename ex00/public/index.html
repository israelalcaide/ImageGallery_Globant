<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ImageGallery</title>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	
	<link rel="stylesheet" href="../assets/styles.css" />
	<link rel="stylesheet" href="../assets/layout.css" />
	<link rel="stylesheet" href="../assets/components.css" />
	<link rel="stylesheet" href="../assets/carousel.css"/>
	<link rel="stylesheet" href="../assets/gallery.css" />
	<link rel="stylesheet" href="../assets/responsive.css" /> 

</head>

<body>

	<a class="skip-intro" href="#mainweb">GO EXPLORE</a>

	<header class="header">
		<div class="menu-nav">
			<button>Categories</button>
			<button>Best Photo</button>
			<button>Favourites</button>
			<button>My button</button>
			<div class="login-container">
				<button class="login-btn" id="loginBtn">Login with Unsplash</button>
				<button class="login-btn" id="meBtn">Mi Perfil</button>
			</div>
		</div>
	</header>
	
	<div class="search-bar">
		<div class="search-container">
			<input id="searchInput" type="text" class="search-input" placeholder="Explore and find images...">
			<button class="search-button">
				<i class="fa-solid fa-magnifying-glass"></i>
			</button>
		</div>
	</div>

	<main class="gallery-main" id="mainweb">
		<div class="gallery-container">
			<button class="nav-arrow nav-arrow-left" id="prevBtn">
				<i class="fa-solid fa-chevron-left"></i>
			</button>

			<div class="cards-container" id="cardsContainer"></div>
			
			<button class="nav-arrow nav-arrow-right" id="nextBtn">
				<i class="fa-solid fa-chevron-right"></i>
			</button>
		</div>
	</main>

	<section class="large-gallery-section">
		<div class="large-gallery-card">
			<h2 class="gallery-card-title">WEBIMAGEGALLERY</h2>
			
			<div id="loader" hidden>Loading…</div>
			<div id="error" hidden class="error"></div>

			<div class="image-grid" id="imageGrid"></div>

		</div>
	</section>

	<script type="module">
		import { fetch_unsplash_profile } from "../src/core/me.js";
		import { get_unsplash_token } from "../src/core/oauth.js";
		document.getElementById("meBtn").addEventListener("click", fetch_unsplash_profile);

	const CLIENT_ID = "dcsFT30KGGIStWRqJ1-pGXoWgMZD0EEGhTufldiPxJc";
		const REDIRECT_URI = window.location.origin + window.location.pathname;
		const AUTH_URL = `https://unsplash.com/oauth/authorize?client_id=${CLIENT_ID}&redirect_uri=${encodeURIComponent(REDIRECT_URI)}&response_type=token&scope=public`;
		document.getElementById("loginBtn").addEventListener("click", () => {
			window.location.href = AUTH_URL;
		});

		// Mostrar estado de login
		function updateLoginStatus() {
			const token = get_unsplash_token && get_unsplash_token();
			const btn = document.getElementById("loginBtn");
			if (token) {
				btn.textContent = "Logged in ✔";
				btn.disabled = true;
				// Opcional: abrir perfil Unsplash automáticamente
				// window.open("https://unsplash.com/me", "_blank");
			} else {
				btn.textContent = "Login with Unsplash";
				btn.disabled = false;
			}
		}
		updateLoginStatus();
	</script>
	<script type="module" src="../src/main.js"></script>
	
</body>
</html>*/